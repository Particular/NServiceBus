// == NServiceBus.Core.Analyzer/NServiceBus.Core.Analyzer.Handlers.AddHandlerGenerator/Handlers.g.cs ==
[global::System.CodeDom.Compiler.GeneratedCodeAttribute("NServiceBus.Core.Analyzer", "10.0.0.0")]
[System.Diagnostics.DebuggerNonUserCode]
file sealed class InterfaceLess_Handle_c2eca80602aeb537 : NServiceBus.IHandleMessages<global::Foo.MyCommand>
{
    readonly global::Foo.IMyService _service;
    readonly global::Foo.InterfaceLess _instance;
    readonly System.IServiceProvider _serviceProvider;

    public InterfaceLess_Handle_c2eca80602aeb537(global::Foo.IMyService service, System.IServiceProvider serviceProvider)
    {
        _service = service;
        _serviceProvider = serviceProvider ?? throw new System.ArgumentNullException(nameof(serviceProvider));
        _instance = Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance<global::Foo.InterfaceLess>(_serviceProvider, []);
    }

    public System.Threading.Tasks.Task Handle(global::Foo.MyCommand message, NServiceBus.IMessageHandlerContext context)
    {
        return _instance.Handle(message, context, _service);
    }
}

[System.Diagnostics.DebuggerNonUserCode]
file sealed class InterfaceLessNoDependencies_Handle_1bc6b171310cd42e : NServiceBus.IHandleMessages<global::Foo.MyEvent>
{
    readonly global::Foo.InterfaceLessNoDependencies _instance;
    readonly System.IServiceProvider _serviceProvider;

    public InterfaceLessNoDependencies_Handle_1bc6b171310cd42e(System.IServiceProvider serviceProvider)
    {
        _serviceProvider = serviceProvider ?? throw new System.ArgumentNullException(nameof(serviceProvider));
        _instance = Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance<global::Foo.InterfaceLessNoDependencies>(_serviceProvider, []);
    }

    public System.Threading.Tasks.Task Handle(global::Foo.MyEvent message, NServiceBus.IMessageHandlerContext context)
    {
        return _instance.Handle(message, context);
    }
}

[System.Diagnostics.DebuggerNonUserCode]
file sealed class InterfaceLessStatic_Handle_374625145d416637 : NServiceBus.IHandleMessages<global::Foo.MyCommand>
{
    readonly global::Foo.InterfaceLessStatic _instance;
    readonly System.IServiceProvider _serviceProvider;

    public InterfaceLessStatic_Handle_374625145d416637(System.IServiceProvider serviceProvider)
    {
        _serviceProvider = serviceProvider ?? throw new System.ArgumentNullException(nameof(serviceProvider));
        _instance = Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance<global::Foo.InterfaceLessStatic>(_serviceProvider, []);
    }

    public System.Threading.Tasks.Task Handle(global::Foo.MyCommand message, NServiceBus.IMessageHandlerContext context)
    {
        return global::Foo.InterfaceLessStatic.Handle(message, context);
    }
}

[System.Diagnostics.DebuggerNonUserCode]
file sealed class InterfaceLessStaticWithDependencies_Handle_888897f8db2c9f5a : NServiceBus.IHandleMessages<global::Foo.MyCommand>
{
    readonly global::Foo.IMyService _service;
    readonly global::Foo.InterfaceLessStaticWithDependencies _instance;
    readonly System.IServiceProvider _serviceProvider;

    public InterfaceLessStaticWithDependencies_Handle_888897f8db2c9f5a(global::Foo.IMyService service, System.IServiceProvider serviceProvider)
    {
        _service = service;
        _serviceProvider = serviceProvider ?? throw new System.ArgumentNullException(nameof(serviceProvider));
        _instance = Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance<global::Foo.InterfaceLessStaticWithDependencies>(_serviceProvider, []);
    }

    public System.Threading.Tasks.Task Handle(global::Foo.MyCommand message, NServiceBus.IMessageHandlerContext context)
    {
        return global::Foo.InterfaceLessStaticWithDependencies.Handle(message, context, _service);
    }
}

static class HandlerRegistryExtensions
{
    extension (global::NServiceBus.HandlerRegistry registry)
    {
        public FooRegistry Foo => new(registry.Configuration);
    }

    public class FooRegistry(global::NServiceBus.EndpointConfiguration configuration)
    {
        readonly global::NServiceBus.EndpointConfiguration _configuration = configuration ?? throw new System.ArgumentNullException(nameof(configuration));

        public void AddAll()
        {
            AddInterfaceLess();
            AddInterfaceLessNoDependencies();
            AddInterfaceLessStatic();
            AddInterfaceLessStaticWithDependencies();
        }

        public void AddInterfaceLess()
        {
        // global::Foo.InterfaceLess
        var settings = NServiceBus.Configuration.AdvancedExtensibility.AdvancedExtensibilityExtensions.GetSettings(_configuration);
        var messageHandlerRegistry = settings.GetOrCreate<NServiceBus.Unicast.MessageHandlerRegistry>();
        var messageMetadataRegistry = settings.GetOrCreate<NServiceBus.Unicast.Messages.MessageMetadataRegistry>();
        messageHandlerRegistry.AddMessageHandlerForMessage<global::InterfaceLess_Handle_c2eca80602aeb537, global::Foo.MyCommand>();
        messageMetadataRegistry.RegisterMessageTypeWithHierarchy(typeof(global::Foo.MyCommand), []);
        }

        public void AddInterfaceLessNoDependencies()
        {
            // global::Foo.InterfaceLessNoDependencies
            var settings = NServiceBus.Configuration.AdvancedExtensibility.AdvancedExtensibilityExtensions.GetSettings(_configuration);
            var messageHandlerRegistry = settings.GetOrCreate<NServiceBus.Unicast.MessageHandlerRegistry>();
            var messageMetadataRegistry = settings.GetOrCreate<NServiceBus.Unicast.Messages.MessageMetadataRegistry>();
            messageHandlerRegistry.AddMessageHandlerForMessage<global::InterfaceLessNoDependencies_Handle_1bc6b171310cd42e, global::Foo.MyEvent>();
            messageMetadataRegistry.RegisterMessageTypeWithHierarchy(typeof(global::Foo.MyEvent), []);
        }

        public void AddInterfaceLessStatic()
        {
            // global::Foo.InterfaceLessStatic
            var settings = NServiceBus.Configuration.AdvancedExtensibility.AdvancedExtensibilityExtensions.GetSettings(_configuration);
            var messageHandlerRegistry = settings.GetOrCreate<NServiceBus.Unicast.MessageHandlerRegistry>();
            var messageMetadataRegistry = settings.GetOrCreate<NServiceBus.Unicast.Messages.MessageMetadataRegistry>();
            messageHandlerRegistry.AddMessageHandlerForMessage<global::InterfaceLessStatic_Handle_374625145d416637, global::Foo.MyCommand>();
            messageMetadataRegistry.RegisterMessageTypeWithHierarchy(typeof(global::Foo.MyCommand), []);
        }

        public void AddInterfaceLessStaticWithDependencies()
        {
            // global::Foo.InterfaceLessStaticWithDependencies
            var settings = NServiceBus.Configuration.AdvancedExtensibility.AdvancedExtensibilityExtensions.GetSettings(_configuration);
            var messageHandlerRegistry = settings.GetOrCreate<NServiceBus.Unicast.MessageHandlerRegistry>();
            var messageMetadataRegistry = settings.GetOrCreate<NServiceBus.Unicast.Messages.MessageMetadataRegistry>();
            messageHandlerRegistry.AddMessageHandlerForMessage<global::InterfaceLessStaticWithDependencies_Handle_888897f8db2c9f5a, global::Foo.MyCommand>();
            messageMetadataRegistry.RegisterMessageTypeWithHierarchy(typeof(global::Foo.MyCommand), []);
        }
    }
}

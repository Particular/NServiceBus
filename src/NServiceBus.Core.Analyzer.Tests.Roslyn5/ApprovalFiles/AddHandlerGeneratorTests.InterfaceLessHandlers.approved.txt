// == NServiceBus.Core.Analyzer/NServiceBus.Core.Analyzer.Handlers.AddHandlerGenerator/Handlers.g.cs ===================
[global::System.CodeDom.Compiler.GeneratedCodeAttribute("NService.Core.Analyzer.Tests", "1.0.0")]
[System.Diagnostics.DebuggerNonUserCode]
file sealed class InterfaceLessNoDependencies_Handle_8fc91ff8a5cc294e : NServiceBus.IHandleMessages<global::Foo.MyEvent>
{
    readonly global::Foo.InterfaceLessNoDependencies _instance;
    readonly System.IServiceProvider _serviceProvider;

    public InterfaceLessNoDependencies_Handle_8fc91ff8a5cc294e(System.IServiceProvider serviceProvider)
    {
        _serviceProvider = serviceProvider ?? throw new System.ArgumentNullException(nameof(serviceProvider));
        _instance = Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance<global::Foo.InterfaceLessNoDependencies>(_serviceProvider, []);
    }

    public System.Threading.Tasks.Task Handle(global::Foo.MyEvent message, NServiceBus.IMessageHandlerContext context)
    {
        return _instance.Handle(message, context);
    }
}

[global::System.CodeDom.Compiler.GeneratedCodeAttribute("NService.Core.Analyzer.Tests", "1.0.0")]
[System.Diagnostics.DebuggerNonUserCode]
file sealed class InterfaceLessStaticWithDependencies_Handle_78b81537073b3f1a : NServiceBus.IHandleMessages<global::Foo.MyCommand>
{
    readonly global::Foo.IMyService _service;
    readonly global::Foo.InterfaceLessStaticWithDependencies _instance;
    readonly System.IServiceProvider _serviceProvider;

    public InterfaceLessStaticWithDependencies_Handle_78b81537073b3f1a(global::Foo.IMyService service, System.IServiceProvider serviceProvider)
    {
        _service = service;
        _serviceProvider = serviceProvider ?? throw new System.ArgumentNullException(nameof(serviceProvider));
        _instance = Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance<global::Foo.InterfaceLessStaticWithDependencies>(_serviceProvider, []);
    }

    public System.Threading.Tasks.Task Handle(global::Foo.MyCommand message, NServiceBus.IMessageHandlerContext context)
    {
        return global::Foo.InterfaceLessStaticWithDependencies.Handle(message, context, _service);
    }
}

[global::System.CodeDom.Compiler.GeneratedCodeAttribute("NService.Core.Analyzer.Tests", "1.0.0")]
[System.Diagnostics.DebuggerNonUserCode]
file sealed class InterfaceLessStatic_Handle_cc5b04e69a344262 : NServiceBus.IHandleMessages<global::Foo.MyCommand>
{
    readonly global::Foo.InterfaceLessStatic _instance;
    readonly System.IServiceProvider _serviceProvider;

    public InterfaceLessStatic_Handle_cc5b04e69a344262(System.IServiceProvider serviceProvider)
    {
        _serviceProvider = serviceProvider ?? throw new System.ArgumentNullException(nameof(serviceProvider));
        _instance = Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance<global::Foo.InterfaceLessStatic>(_serviceProvider, []);
    }

    public System.Threading.Tasks.Task Handle(global::Foo.MyCommand message, NServiceBus.IMessageHandlerContext context)
    {
        return global::Foo.InterfaceLessStatic.Handle(message, context);
    }
}

[global::System.CodeDom.Compiler.GeneratedCodeAttribute("NService.Core.Analyzer.Tests", "1.0.0")]
[System.Diagnostics.DebuggerNonUserCode]
file sealed class InterfaceLess_Handle_b488fd37e2f63483 : NServiceBus.IHandleMessages<global::Foo.MyCommand>
{
    readonly global::Foo.IMyService _service;
    readonly global::Foo.InterfaceLess _instance;
    readonly System.IServiceProvider _serviceProvider;

    public InterfaceLess_Handle_b488fd37e2f63483(global::Foo.IMyService service, System.IServiceProvider serviceProvider)
    {
        _service = service;
        _serviceProvider = serviceProvider ?? throw new System.ArgumentNullException(nameof(serviceProvider));
        _instance = Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance<global::Foo.InterfaceLess>(_serviceProvider, []);
    }

    public System.Threading.Tasks.Task Handle(global::Foo.MyCommand message, NServiceBus.IMessageHandlerContext context)
    {
        return _instance.Handle(message, context, _service);
    }
}

namespace NServiceBus
{
    [global::System.CodeDom.Compiler.GeneratedCodeAttribute("NService.Core.Analyzer.Tests", "1.0.0")]
    public static class InterfaceLessHandlersHandlerRegistryExtensions
    {
        extension (global::NServiceBus.HandlerRegistry registry)
        {
            public InterfaceLessHandlersRootRegistry InterfaceLessHandlersAssembly => new(registry.Configuration);
        }

        public sealed class InterfaceLessHandlersRootRegistry(global::NServiceBus.EndpointConfiguration configuration)
        {
            readonly global::NServiceBus.EndpointConfiguration _configuration = configuration ?? throw new System.ArgumentNullException(nameof(configuration));

            public FooRegistry Foo => new(_configuration);

            public void AddAll()
            {
                Foo.AddAll();
            }

            public sealed class FooRegistry(global::NServiceBus.EndpointConfiguration configuration)
            {
                readonly global::NServiceBus.EndpointConfiguration _configuration = configuration ?? throw new System.ArgumentNullException(nameof(configuration));

                public void AddAll()
                {
                    AddInterfaceLess();
                    AddInterfaceLessNoDependencies();
                    AddInterfaceLessStatic();
                    AddInterfaceLessStaticWithDependencies();
                }

                public void AddInterfaceLess()
                {
                    var settings = NServiceBus.Configuration.AdvancedExtensibility.AdvancedExtensibilityExtensions.GetSettings(_configuration);
                    var messageHandlerRegistry = settings.GetOrCreate<NServiceBus.Unicast.MessageHandlerRegistry>();
                    var messageMetadataRegistry = settings.GetOrCreate<NServiceBus.Unicast.Messages.MessageMetadataRegistry>();
                    messageHandlerRegistry.AddMessageHandlerForMessage<global::InterfaceLess_Handle_b488fd37e2f63483, global::Foo.MyCommand>();
                    messageMetadataRegistry.RegisterMessageTypeWithHierarchy(typeof(global::Foo.MyCommand), []);
                }

                public void AddInterfaceLessNoDependencies()
                {
                    var settings = NServiceBus.Configuration.AdvancedExtensibility.AdvancedExtensibilityExtensions.GetSettings(_configuration);
                    var messageHandlerRegistry = settings.GetOrCreate<NServiceBus.Unicast.MessageHandlerRegistry>();
                    var messageMetadataRegistry = settings.GetOrCreate<NServiceBus.Unicast.Messages.MessageMetadataRegistry>();
                    messageHandlerRegistry.AddMessageHandlerForMessage<global::InterfaceLessNoDependencies_Handle_8fc91ff8a5cc294e, global::Foo.MyEvent>();
                    messageMetadataRegistry.RegisterMessageTypeWithHierarchy(typeof(global::Foo.MyEvent), []);
                }

                public void AddInterfaceLessStatic()
                {
                    var settings = NServiceBus.Configuration.AdvancedExtensibility.AdvancedExtensibilityExtensions.GetSettings(_configuration);
                    var messageHandlerRegistry = settings.GetOrCreate<NServiceBus.Unicast.MessageHandlerRegistry>();
                    var messageMetadataRegistry = settings.GetOrCreate<NServiceBus.Unicast.Messages.MessageMetadataRegistry>();
                    messageHandlerRegistry.AddMessageHandlerForMessage<global::InterfaceLessStatic_Handle_cc5b04e69a344262, global::Foo.MyCommand>();
                    messageMetadataRegistry.RegisterMessageTypeWithHierarchy(typeof(global::Foo.MyCommand), []);
                }

                public void AddInterfaceLessStaticWithDependencies()
                {
                    var settings = NServiceBus.Configuration.AdvancedExtensibility.AdvancedExtensibilityExtensions.GetSettings(_configuration);
                    var messageHandlerRegistry = settings.GetOrCreate<NServiceBus.Unicast.MessageHandlerRegistry>();
                    var messageMetadataRegistry = settings.GetOrCreate<NServiceBus.Unicast.Messages.MessageMetadataRegistry>();
                    messageHandlerRegistry.AddMessageHandlerForMessage<global::InterfaceLessStaticWithDependencies_Handle_78b81537073b3f1a, global::Foo.MyCommand>();
                    messageMetadataRegistry.RegisterMessageTypeWithHierarchy(typeof(global::Foo.MyCommand), []);
                }
            }
        }
    }
}
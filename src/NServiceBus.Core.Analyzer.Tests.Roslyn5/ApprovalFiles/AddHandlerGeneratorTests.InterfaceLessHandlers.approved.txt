// == NServiceBus.Core.Analyzer/NServiceBus.Core.Analyzer.Handlers.AddHandlerGenerator/InterceptionsOfAddHandlerMethod.g.cs ==
[global::System.CodeDom.Compiler.GeneratedCodeAttribute("NServiceBus.Core.Analyzer", "10.0.0.0")]
[System.Diagnostics.DebuggerNonUserCode]
file sealed class InterfaceLessNoDependencies_Handle_6062ca642b6fffa8 : NServiceBus.IHandleMessages<global::MyEvent>
{
    readonly global::InterfaceLessNoDependencies _instance;
    readonly System.IServiceProvider _serviceProvider;

    public InterfaceLessNoDependencies_Handle_6062ca642b6fffa8(System.IServiceProvider serviceProvider)
    {
        _serviceProvider = serviceProvider ?? throw new System.ArgumentNullException(nameof(serviceProvider));
        _instance = Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance<global::InterfaceLessNoDependencies>(_serviceProvider, []);
    }

    public System.Threading.Tasks.Task Handle(global::MyEvent message, NServiceBus.IMessageHandlerContext context)
    {
        return _instance.Handle(message, context);
    }
}

[System.Diagnostics.DebuggerNonUserCode]
file sealed class InterfaceLessStaticWithDependencies_Handle_d924617e35a88ffc : NServiceBus.IHandleMessages<global::MyCommand>
{
    readonly global::IMyService _service;
    readonly global::InterfaceLessStaticWithDependencies _instance;
    readonly System.IServiceProvider _serviceProvider;

    public InterfaceLessStaticWithDependencies_Handle_d924617e35a88ffc(global::IMyService service, System.IServiceProvider serviceProvider)
    {
        _service = service;
        _serviceProvider = serviceProvider ?? throw new System.ArgumentNullException(nameof(serviceProvider));
        _instance = Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance<global::InterfaceLessStaticWithDependencies>(_serviceProvider, []);
    }

    public System.Threading.Tasks.Task Handle(global::MyCommand message, NServiceBus.IMessageHandlerContext context)
    {
        return global::InterfaceLessStaticWithDependencies.Handle(message, context, _service);
    }
}

[System.Diagnostics.DebuggerNonUserCode]
file sealed class InterfaceLessStatic_Handle_595f2b953f121004 : NServiceBus.IHandleMessages<global::MyCommand>
{
    readonly global::InterfaceLessStatic _instance;
    readonly System.IServiceProvider _serviceProvider;

    public InterfaceLessStatic_Handle_595f2b953f121004(System.IServiceProvider serviceProvider)
    {
        _serviceProvider = serviceProvider ?? throw new System.ArgumentNullException(nameof(serviceProvider));
        _instance = Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance<global::InterfaceLessStatic>(_serviceProvider, []);
    }

    public System.Threading.Tasks.Task Handle(global::MyCommand message, NServiceBus.IMessageHandlerContext context)
    {
        return global::InterfaceLessStatic.Handle(message, context);
    }
}

[System.Diagnostics.DebuggerNonUserCode]
file sealed class InterfaceLess_Handle_b3fa17f9f27eec91 : NServiceBus.IHandleMessages<global::MyCommand>
{
    readonly global::IMyService _service;
    readonly global::InterfaceLess _instance;
    readonly System.IServiceProvider _serviceProvider;

    public InterfaceLess_Handle_b3fa17f9f27eec91(global::IMyService service, System.IServiceProvider serviceProvider)
    {
        _service = service;
        _serviceProvider = serviceProvider ?? throw new System.ArgumentNullException(nameof(serviceProvider));
        _instance = Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance<global::InterfaceLess>(_serviceProvider, []);
    }

    public System.Threading.Tasks.Task Handle(global::MyCommand message, NServiceBus.IMessageHandlerContext context)
    {
        return _instance.Handle(message, context, _service);
    }
}

static class InterceptionsOfAddHandlerMethod
{
    extension (NServiceBus.EndpointConfiguration endpointConfiguration)
    {
        public void AddFooHandlers()
        {
            System.ArgumentNullException.ThrowIfNull(endpointConfiguration);
            var settings = NServiceBus.Configuration.AdvancedExtensibility.AdvancedExtensibilityExtensions.GetSettings(endpointConfiguration);
            var messageHandlerRegistry = settings.GetOrCreate<NServiceBus.Unicast.MessageHandlerRegistry>();
            var messageMetadataRegistry = settings.GetOrCreate<NServiceBus.Unicast.Messages.MessageMetadataRegistry>();
            // global::InterfaceLess
            messageHandlerRegistry.AddMessageHandlerForMessage<global::InterfaceLess_Handle_b3fa17f9f27eec91, global::MyCommand>();
            messageMetadataRegistry.RegisterMessageTypeWithHierarchy(typeof(global::MyCommand), []);
            // global::InterfaceLessNoDependencies
            messageHandlerRegistry.AddMessageHandlerForMessage<global::InterfaceLessNoDependencies_Handle_6062ca642b6fffa8, global::MyEvent>();
            messageMetadataRegistry.RegisterMessageTypeWithHierarchy(typeof(global::MyEvent), []);
            // global::InterfaceLessStatic
            messageHandlerRegistry.AddMessageHandlerForMessage<global::InterfaceLessStatic_Handle_595f2b953f121004, global::MyCommand>();
            messageMetadataRegistry.RegisterMessageTypeWithHierarchy(typeof(global::MyCommand), []);
            // global::InterfaceLessStaticWithDependencies
            messageHandlerRegistry.AddMessageHandlerForMessage<global::InterfaceLessStaticWithDependencies_Handle_d924617e35a88ffc, global::MyCommand>();
            messageMetadataRegistry.RegisterMessageTypeWithHierarchy(typeof(global::MyCommand), []);
        }
    }
}
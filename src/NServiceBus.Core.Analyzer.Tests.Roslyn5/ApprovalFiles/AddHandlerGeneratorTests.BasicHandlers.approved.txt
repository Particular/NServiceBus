// == NServiceBus.Core.Analyzer/NServiceBus.Core.Analyzer.Handlers.AddHandlerGenerator/Handlers.g.cs ==
[global::System.CodeDom.Compiler.GeneratedCodeAttribute("NServiceBus.Core.Analyzer", "10.0.0.0")]
static class HandlerRegistryExtensions
{
    extension (global::NServiceBus.HandlerRegistry registry)
    {
        public OrdersRegistry Orders => new(registry.Configuration);
        public PaymentsRegistry Payments => new(registry.Configuration);
    }

    public class OrdersRegistry(global::NServiceBus.EndpointConfiguration configuration)
    {
        readonly global::NServiceBus.EndpointConfiguration _configuration = configuration ?? throw new System.ArgumentNullException(nameof(configuration));

        public BillingRegistry Billing => new(_configuration);
        public ShippingRegistry Shipping => new(_configuration);

        public void AddAll()
        {
            Billing.AddAll();
            Shipping.AddAll();
        }

        public class BillingRegistry(global::NServiceBus.EndpointConfiguration configuration)
        {
            readonly global::NServiceBus.EndpointConfiguration _configuration = configuration ?? throw new System.ArgumentNullException(nameof(configuration));

            public void AddAll()
            {
                AddInvoiceCreated();
            }

            public void AddInvoiceCreated()
            {
                // global::Orders.Billing.InvoiceCreatedHandler
                var settings = NServiceBus.Configuration.AdvancedExtensibility.AdvancedExtensibilityExtensions.GetSettings(_configuration);
                var messageHandlerRegistry = settings.GetOrCreate<NServiceBus.Unicast.MessageHandlerRegistry>();
                var messageMetadataRegistry = settings.GetOrCreate<NServiceBus.Unicast.Messages.MessageMetadataRegistry>();
                messageHandlerRegistry.AddMessageHandlerForMessage<global::Orders.Billing.InvoiceCreatedHandler, global::Evt1>();
                messageMetadataRegistry.RegisterMessageTypeWithHierarchy(typeof(global::Evt1), []);
            }
        }

        public class ShippingRegistry(global::NServiceBus.EndpointConfiguration configuration)
        {
            readonly global::NServiceBus.EndpointConfiguration _configuration = configuration ?? throw new System.ArgumentNullException(nameof(configuration));

            public void AddAll()
            {
                AddOrderShipped();
                AddShipmentDelayed();
            }

            public void AddOrderShipped()
            {
                // global::Orders.Shipping.OrderShippedHandler
                var settings = NServiceBus.Configuration.AdvancedExtensibility.AdvancedExtensibilityExtensions.GetSettings(_configuration);
                var messageHandlerRegistry = settings.GetOrCreate<NServiceBus.Unicast.MessageHandlerRegistry>();
                var messageMetadataRegistry = settings.GetOrCreate<NServiceBus.Unicast.Messages.MessageMetadataRegistry>();
                messageHandlerRegistry.AddMessageHandlerForMessage<global::Orders.Shipping.OrderShippedHandler, global::Cmd1>();
                messageMetadataRegistry.RegisterMessageTypeWithHierarchy(typeof(global::Cmd1), [typeof(global::CmdBase)]);
            }

            public void AddShipmentDelayed()
            {
                // global::Orders.Shipping.ShipmentDelayedHandler
                var settings = NServiceBus.Configuration.AdvancedExtensibility.AdvancedExtensibilityExtensions.GetSettings(_configuration);
                var messageHandlerRegistry = settings.GetOrCreate<NServiceBus.Unicast.MessageHandlerRegistry>();
                var messageMetadataRegistry = settings.GetOrCreate<NServiceBus.Unicast.Messages.MessageMetadataRegistry>();
                messageHandlerRegistry.AddMessageHandlerForMessage<global::Orders.Shipping.ShipmentDelayedHandler, global::Cmd2>();
                messageMetadataRegistry.RegisterMessageTypeWithHierarchy(typeof(global::Cmd2), []);
            }
        }
    }

    public class PaymentsRegistry(global::NServiceBus.EndpointConfiguration configuration)
    {
        readonly global::NServiceBus.EndpointConfiguration _configuration = configuration ?? throw new System.ArgumentNullException(nameof(configuration));

        public void AddAll()
        {
            AddPaymentCaptured();
        }

        public void AddPaymentCaptured()
        {
            // global::Payments.PaymentCapturedHandler
            var settings = NServiceBus.Configuration.AdvancedExtensibility.AdvancedExtensibilityExtensions.GetSettings(_configuration);
            var messageHandlerRegistry = settings.GetOrCreate<NServiceBus.Unicast.MessageHandlerRegistry>();
            var messageMetadataRegistry = settings.GetOrCreate<NServiceBus.Unicast.Messages.MessageMetadataRegistry>();
            messageHandlerRegistry.AddMessageHandlerForMessage<global::Payments.PaymentCapturedHandler, global::Cmd1>();
            messageMetadataRegistry.RegisterMessageTypeWithHierarchy(typeof(global::Cmd1), [typeof(global::CmdBase)]);
        }
    }
}
